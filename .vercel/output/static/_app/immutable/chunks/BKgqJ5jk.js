import{N as g,O as G,Q as R,R as We,T as Ue}from"./CFWGTvxy.js";import"./DsnmJJEf.js";import{o as Ye,E as Ge,bm as Ke,bn as Je,g as Ze,D as Qe,bo as Xe,X as $e,F as et,a1 as N,b4 as Ee,p as tt,ar as rt,i as q,d as nt,bl as ue,e as ot,a as H,b as st,j as ee,h as F,c as V,s as P,r as D,t as te,f as J,ab as fe}from"./BjvSjcul.js";import{g as at,d as it,e as pe,s as me}from"./Bq_urSBn.js";import{s as he}from"./DEGNaYdh.js";import{i as W}from"./BzP6EuCB.js";import{a as ve,b as Ce,s as be}from"./CW0Rmjp7.js";import{b as ct}from"./DK2YmtLx.js";import{p as b}from"./jvGfUjpY.js";const lt=()=>performance.now(),I={tick:r=>requestAnimationFrame(r),now:()=>lt(),tasks:new Set};function Le(){const r=I.now();I.tasks.forEach(e=>{e.c(r)||(I.tasks.delete(e),e.f())}),I.tasks.size!==0&&I.tick(Le)}function dt(r){let e;return I.tasks.size===0&&I.tick(Le),{promise:new Promise(i=>{I.tasks.add(e={c:r,f:i})}),abort(){I.tasks.delete(e)}}}function K(r,e){Ee(()=>{r.dispatchEvent(new CustomEvent(e))})}function ut(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const e=r.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function ye(r){const e={},i=r.split(";");for(const t of i){const[o,d]=t.split(":");if(!o||d===void 0)break;const m=ut(o.trim());e[m]=d.trim()}return e}const ft=r=>r;function ge(r,e,i,t){var o=(r&Xe)!==0,d="both",m,C=e.inert,w=e.style.overflow,c,a;function n(){return Ee(()=>m??=i()(e,t?.()??{},{direction:d}))}var s={is_global:o,in(){e.inert=C,c=se(e,n(),a,1,()=>{K(e,"introend"),c?.abort(),c=m=void 0,e.style.overflow=w})},out(p){e.inert=!0,a=se(e,n(),c,0,()=>{K(e,"outroend"),p?.()})},stop:()=>{c?.abort(),a?.abort()}},l=Ye;if((l.nodes.t??=[]).push(s),at){var u=o;if(!u){for(var f=l.parent;f&&(f.f&Ge)!==0;)for(;(f=f.parent)&&(f.f&Ke)===0;);u=!f||(f.f&Je)!==0}u&&Ze(()=>{Qe(()=>s.in())})}}function se(r,e,i,t,o){var d=t===1;if($e(e)){var m,C=!1;return et(()=>{if(!C){var p=e({direction:d?"in":"out"});m=se(r,p,i,t,o)}}),{abort:()=>{C=!0,m?.abort()},deactivate:()=>m.deactivate(),reset:()=>m.reset(),t:()=>m.t()}}if(i?.deactivate(),!e?.duration&&!e?.delay)return K(r,d?"introstart":"outrostart"),o(),{abort:N,deactivate:N,reset:N,t:()=>t};const{delay:w=0,css:c,tick:a,easing:n=ft}=e;var s=[];if(d&&i===void 0&&(a&&a(0,1),c)){var l=ye(c(0,1));s.push(l,l)}var u=()=>1-t,f=r.animate(s,{duration:w,fill:"forwards"});return f.onfinish=()=>{f.cancel(),K(r,d?"introstart":"outrostart");var p=i?.t()??1-t;i?.abort();var h=t-p,v=e.duration*Math.abs(h),L=[];if(v>0){var S=!1;if(c)for(var T=Math.ceil(v/16.666666666666668),_=0;_<=T;_+=1){var M=p+h*n(_/T),O=ye(c(M,1-M));L.push(O),S||=O.overflow==="hidden"}S&&(r.style.overflow="hidden"),u=()=>{var A=f.currentTime;return p+h*n(A/v)},a&&dt(()=>{if(f.playState!=="running")return!1;var A=u();return a(A,1-A),!0})}f=r.animate(L,{duration:v,fill:"forwards"}),f.onfinish=()=>{u=()=>t,a?.(t,1-t),o()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=N)},deactivate:()=>{o=N},reset:()=>{t===0&&a?.(1,0)},t:()=>u()}}const pt={[g.EncryptedDirectMessage]:"nip04",[g.Seal]:"nip44",[g.GiftWrap]:"nip44"};function Te(r,e){return pt[r]=e,r}const mt=new Set([Te(g.DraftLong,"nip04")]);function x(r,e){return mt.add(Te(r,e)),r}const ht=10009;x(g.BookmarkList,"nip04"),x(g.InterestsList,"nip04"),x(g.Mutelist,"nip04"),x(g.CommunitiesList,"nip04"),x(g.PublicChatsList,"nip04"),x(g.SearchRelaysList,"nip04"),x(ht,"nip04"),x(g.Bookmarksets,"nip04"),x(g.Relaysets,"nip04"),x(g.Followsets,"nip04"),x(g.Curationsets,"nip04"),x(g.Interestsets,"nip04");var U=new TextDecoder("utf-8");new TextEncoder;var Me=5e3;function Ht(r){let{prefix:e,words:i}=G.decode(r,Me),t=new Uint8Array(G.fromWords(i));switch(e){case"nprofile":{let o=re(t);if(!o[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(o[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:R(o[0][0]),relays:o[1]?o[1].map(d=>U.decode(d)):[]}}}case"nevent":{let o=re(t);if(!o[0]?.[0])throw new Error("missing TLV 0 for nevent");if(o[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(o[2]&&o[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(o[3]&&o[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:R(o[0][0]),relays:o[1]?o[1].map(d=>U.decode(d)):[],author:o[2]?.[0]?R(o[2][0]):void 0,kind:o[3]?.[0]?parseInt(R(o[3][0]),16):void 0}}}case"naddr":{let o=re(t);if(!o[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!o[2]?.[0])throw new Error("missing TLV 2 for naddr");if(o[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!o[3]?.[0])throw new Error("missing TLV 3 for naddr");if(o[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:U.decode(o[0][0]),pubkey:R(o[2][0]),kind:parseInt(R(o[3][0]),16),relays:o[1]?o[1].map(d=>U.decode(d)):[]}}}case"nsec":return{type:e,data:t};case"npub":case"note":return{type:e,data:R(t)};default:throw new Error(`unknown prefix ${e}`)}}function re(r){let e={},i=r;for(;i.length>0;){let t=i[0],o=i[1],d=i.slice(2,2+o);if(i=i.slice(2+o),d.length<o)throw new Error(`not enough data to read on TLV ${t}`);e[t]=e[t]||[],e[t].push(d)}return e}function qt(r){return Ae("nsec",r)}function Pt(r){return Ae("npub",We(r))}function vt(r,e){let i=G.toWords(e);return G.encode(r,i,Me)}function Ae(r,e){return vt(r,e)}var Y={exports:{}},ne,we;function Ct(){if(we)return ne;we=1;var r=1e3,e=r*60,i=e*60,t=i*24,o=t*7,d=t*365.25;ne=function(a,n){n=n||{};var s=typeof a;if(s==="string"&&a.length>0)return m(a);if(s==="number"&&isFinite(a))return n.long?w(a):C(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function m(a){if(a=String(a),!(a.length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(n){var s=parseFloat(n[1]),l=(n[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return s*d;case"weeks":case"week":case"w":return s*o;case"days":case"day":case"d":return s*t;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function C(a){var n=Math.abs(a);return n>=t?Math.round(a/t)+"d":n>=i?Math.round(a/i)+"h":n>=e?Math.round(a/e)+"m":n>=r?Math.round(a/r)+"s":a+"ms"}function w(a){var n=Math.abs(a);return n>=t?c(a,n,t,"day"):n>=i?c(a,n,i,"hour"):n>=e?c(a,n,e,"minute"):n>=r?c(a,n,r,"second"):a+" ms"}function c(a,n,s,l){var u=n>=s*1.5;return Math.round(a/s)+" "+l+(u?"s":"")}return ne}var oe,Fe;function bt(){if(Fe)return oe;Fe=1;function r(e){t.debug=t,t.default=t,t.coerce=c,t.disable=C,t.enable=d,t.enabled=w,t.humanize=Ct(),t.destroy=a,Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={};function i(n){let s=0;for(let l=0;l<n.length;l++)s=(s<<5)-s+n.charCodeAt(l),s|=0;return t.colors[Math.abs(s)%t.colors.length]}t.selectColor=i;function t(n){let s,l=null,u,f;function p(...h){if(!p.enabled)return;const v=p,L=Number(new Date),S=L-(s||L);v.diff=S,v.prev=s,v.curr=L,s=L,h[0]=t.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let T=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(M,O)=>{if(M==="%%")return"%";T++;const A=t.formatters[O];if(typeof A=="function"){const Z=h[T];M=A.call(v,Z),h.splice(T,1),T--}return M}),t.formatArgs.call(v,h),(v.log||t.log).apply(v,h)}return p.namespace=n,p.useColors=t.useColors(),p.color=t.selectColor(n),p.extend=o,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(u!==t.namespaces&&(u=t.namespaces,f=t.enabled(n)),f),set:h=>{l=h}}),typeof t.init=="function"&&t.init(p),p}function o(n,s){const l=t(this.namespace+(typeof s>"u"?":":s)+n);return l.log=this.log,l}function d(n){t.save(n),t.namespaces=n,t.names=[],t.skips=[];const s=(typeof n=="string"?n:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const l of s)l[0]==="-"?t.skips.push(l.slice(1)):t.names.push(l)}function m(n,s){let l=0,u=0,f=-1,p=0;for(;l<n.length;)if(u<s.length&&(s[u]===n[l]||s[u]==="*"))s[u]==="*"?(f=u,p=l,u++):(l++,u++);else if(f!==-1)u=f+1,p++,l=p;else return!1;for(;u<s.length&&s[u]==="*";)u++;return u===s.length}function C(){const n=[...t.names,...t.skips.map(s=>"-"+s)].join(",");return t.enable(""),n}function w(n){for(const s of t.skips)if(m(n,s))return!1;for(const s of t.names)if(m(n,s))return!0;return!1}function c(n){return n instanceof Error?n.stack||n.message:n}function a(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}return oe=r,oe}var _e;function yt(){return _e||(_e=1,(function(r,e){var i={};e.formatArgs=o,e.save=d,e.load=m,e.useColors=t,e.storage=C(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let c;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(c=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(c[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;c.splice(1,0,a,"color: inherit");let n=0,s=0;c[0].replace(/%[a-zA-Z%]/g,l=>{l!=="%%"&&(n++,l==="%c"&&(s=n))}),c.splice(s,0,a)}e.log=console.debug||console.log||(()=>{});function d(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function m(){let c;try{c=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=i.DEBUG),c}function C(){try{return localStorage}catch{}}r.exports=bt()(e);const{formatters:w}=r.exports;w.j=function(c){try{return JSON.stringify(c)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}})(Y,Y.exports)),Y.exports}var gt=yt();const wt=Ue(gt),Ft=wt("applesauce");Ft.extend("event-cache");const ke="abcdefghijklmnopqrstuvwxyz";new Set((ke+ke.toUpperCase()).split(""));const _t=r=>r;function kt(r){const e=r-1;return e*e*e+1}function xe(r){const e=typeof r=="string"&&r.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[r,"px"]}function xt(r,{delay:e=0,duration:i=400,easing:t=_t}={}){const o=+getComputedStyle(r).opacity;return{delay:e,duration:i,easing:t,css:d=>`opacity: ${d*o}`}}function Et(r,{delay:e=0,duration:i=400,easing:t=kt,x:o=0,y:d=0,opacity:m=0}={}){const C=getComputedStyle(r),w=+C.opacity,c=C.transform==="none"?"":C.transform,a=w*(1-m),[n,s]=xe(o),[l,u]=xe(d);return{delay:e,duration:i,easing:t,css:(f,p)=>`
			transform: ${c} translate(${(1-f)*n}${s}, ${(1-f)*l}${u});
			opacity: ${w-a*p}`}}function Lt(r){const e=r-1;return e*e*e+1}var Tt=J('<p class="modal-description svelte-1vr5p4p"> </p>'),Mt=J('<div class="modal-title-block svelte-1vr5p4p"><h2 class="modal-title text-display text-4xl text-foreground text-center svelte-1vr5p4p"> </h2> <!></div>'),At=J('<div class="modal-mobile-close-wrap svelte-1vr5p4p"><button type="button" class="modal-mobile-close-btn svelte-1vr5p4p">Close</button></div>'),It=J('<div role="dialog" aria-modal="true" tabindex="-1"><div role="document" tabindex="-1"><div class="modal-content svelte-1vr5p4p"><!> <!></div> <!> <!></div></div>');function Wt(r,e){tt(e,!0);let i=b(e,"open",15,!1),t=b(e,"ariaLabel",3,"Modal dialog"),o=b(e,"ariaLabelledby",3,null),d=b(e,"align",3,"center"),m=b(e,"zIndex",3,50),C=b(e,"maxWidth",3,"max-w-lg"),w=b(e,"wide",3,!1),c=b(e,"class",3,""),a=b(e,"maxHeight",3,80),n=b(e,"fillHeight",3,!1),s=b(e,"closeOnBackdropClick",3,!0),l=b(e,"closeOnEscape",3,!0),u=b(e,"noBackdrop",3,!1),f=b(e,"title",3,""),p=b(e,"description",3,""),h=b(e,"closeButtonMobile",3,!1),v=ee(null),L=ee(!1),S=ee(!1);const T=fe(()=>w()?"modal-wide":C()),_=fe(()=>d()==="top"?"top":d()==="bottom"||F(S)?"bottom":"center");function M(){q(S,window.innerWidth<640)}function O(){if(F(v)&&F(S)){const y=window.innerHeight*(a()/100),E=F(v).scrollHeight;q(L,E>y)}}function A(){{const y=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${y}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.overflow="hidden",document.body.dataset.scrollY=String(y)}}function Z(){{const y=document.body.dataset.scrollY||"0";document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.overflow="",delete document.body.dataset.scrollY,window.scrollTo(0,parseInt(y))}}rt(()=>{i()?(M(),A(),requestAnimationFrame(()=>{O()})):(Z(),q(L,!1))});function Ie(y){s()&&y.target===y.currentTarget&&i(!1)}function Se(y){l()&&y.key==="Escape"&&i(!1)}function Be(){M(),O()}var ae=nt();pe("keydown",ue,Se),pe("resize",ue,Be);var Oe=ot(ae);{var ze=y=>{var E=It();let ie;E.__click=Ie;var B=V(E);let ce;B.__click=k=>k.stopPropagation(),B.__keydown=k=>k.stopPropagation();var Q=V(B),le=V(Q);{var Re=k=>{var z=Mt(),j=V(z),je=V(j,!0);D(j);var He=P(j,2);{var qe=X=>{var $=Tt(),Pe=V($,!0);D($),te(()=>me(Pe,p())),H(X,$)};W(He,X=>{p()&&X(qe)})}D(z),te(()=>me(je,f())),H(k,z)};W(le,k=>{f()&&k(Re)})}var Ve=P(le,2);he(Ve,()=>e.children??N),D(Q);var de=P(Q,2);{var De=k=>{var z=At(),j=V(z);j.__click=()=>i(!1),D(z),H(k,z)};W(de,k=>{h()&&k(De)})}var Ne=P(de,2);he(Ne,()=>e.footer??N),D(B),ct(B,k=>q(v,k),()=>F(v)),D(E),te(()=>{ie=ve(E,1,"modal-backdrop fixed inset-0 svelte-1vr5p4p",null,ie,{"bg-overlay":!u(),"modal-backdrop-transparent":u(),"items-start":F(_)==="top","items-center":F(_)==="center","items-end":F(_)==="bottom"}),Ce(E,`z-index: ${m()??""};`),be(E,"aria-label",o()?void 0:t()),be(E,"aria-labelledby",o()),ce=ve(B,1,`modal-container relative w-full ${F(T)??""} ${c()??""} border-subtle overflow-hidden backdrop-blur-lg`,"svelte-1vr5p4p",ce,{"modal-top":F(_)==="top","modal-center":F(_)==="center","modal-bottom":F(_)==="bottom","modal-fill-height":n()}),Ce(B,`--modal-max-height: ${a()??""}vh;`)}),ge(3,B,()=>Et,()=>({y:F(_)==="bottom"?50:F(_)==="top"?-50:0,duration:200,easing:Lt})),ge(3,E,()=>xt,()=>({duration:200})),H(y,E)};W(Oe,y=>{i()&&y(ze)})}H(r,ae),st()}it(["click","keydown"]);export{Wt as M,Pt as a,Ht as d,xt as f,qt as n,ge as t};
