import"./DsnmJJEf.js";import"./DiPfm8AY.js";import{a as l,n as p,f as h}from"./BjvSjcul.js";const i={title:"Can Nostr fix app distribution?",date:"2024-01-29T00:00:00.000Z",draft:!1},{title:S,date:A,draft:x}=i;var d=h('<p><em>Originally published at <a href="https://stacker.news/items/404908" rel="nofollow">https://stacker.news/items/404908</a></em></p> <p>There are four angles from which I want to discuss this topic: discoverability, security, reputation and monetization.</p> <p>The <em>app store</em> model, a curated catalog of applications, addresses these in various ways and is by far the most common distribution method.</p> <p>Google Play Store and Apple App Store lead the pack with <a href="https://www.businessofapps.com/data/app-stores/" rel="nofollow">around 95% market share</a> outside of China. Along with other Android stores (Amazon Store, Samsung Galaxy Store) and the Microsoft Store, they are the major proprietary, closed-source stores. They control every link in the distribution chain.</p> <p>Open source stores work a bit differently. The store UI can manage apps from multiple repositories. For the most part, though, they are used with the default one: F-Droid (Android) with their official repo, Snap (Ubuntu Linux) with Snapcraft, Flatpak (Linux) with Flathub.</p> <p>App stores are the only realistic method to distribute applications to humans at scale, but current implementations have important shortfalls. They are all, in varying degrees, trusted third parties offering convenience at the expense of sovereignty in different ways.</p> <h2 id="discoverability">Discoverability</h2> <p>High-quality search, trending lists, and recommendations are important factors for app discovery.</p> <p>The main stores are tightly integrated with their respective operating systems so they are the users default go-to. This creates a strong incentive for developers to publish there, and this results in a rich app ecosystem.</p> <p>But centralization has its problems. The algorithms of these stores may prioritize promoting content, displaying ads or making it difficult to discover niche apps.  They <a href="https://www.coindesk.com/tech/2023/06/28/damus-finally-receives-apple-app-store-approval-after-two-week-battle/" rel="nofollow">regularly censor</a> due to state regulations and corporate agendas. (Or just for <a href="https://nitter.cz/evankaloudis/status/1727336468920864844#m" rel="nofollow">some random reason</a>).</p> <p>The iOS App Store is the most problematic of all. There are no alternative ways of installing apps other than going through tedious hoops. The recent <a href="https://www.theverge.com/2024/1/25/24050200/apple-third-party-app-stores-allowed-iphone-ios-europe-digital-markets-act" rel="nofollow">third-party app store changes in the EU</a> is a complete larp: “marketplaces” must still get permission from Apple and only a single version of an app across different stores is allowed.</p> <p>Open stores do not censor and anyone can add their own repository, but this extra step also hurts discoverability.</p> <p>One can of course find apps outside the realm of an app store, for instance from links shared in social media. (I’ll further discuss the direct download approach in the Security section.)</p> <p>Furthermore, major stores are split in countries/regions due to legal or regulatory requirements, so apps available in one area may be invisible in another. Enabling localized content may improve discoverability because of the increased cultural relevance.</p> <p>An app store on nostr, on the other hand, could leverage (borderless) social connections which is way more relevant than a geographic silo. Discovering new apps could become more like getting personalized recommendations from your friends as opposed to browsing a generic list created by minions at a faceless corporation.</p> <p>Other handy features such as <a href="https://nips.be/51" rel="nofollow">NIP-51</a> could bring curated app lists to one-click bulk install (à la <a href="https://ninite.com/" rel="nofollow">Ninite</a>), both as personal backup or as recommendations.</p> <h2 id="security">Security</h2> <p>Here I’d like to talk about a few key aspects separately.</p> <ul><li><strong>Transmission security</strong>: Checking file integrity via digital signatures to prevent tampering</li> <li><strong>Application security</strong>: Scanning packages for malware and enforcing OS-level runtime security</li> <li><strong>Privacy</strong>: Preventing private information or metadata leakage</li></ul> <h3 id="transmission-security">Transmission security</h3> <p>Apple and Google prevent in-transit attacks through public key infrastructure (PKI). They provide developers with signing certificates, in addition to controlling app store front-ends, domains and file servers.</p> <p>On Android, signing keys are pinned upon first installation and are enforced on all subsequent updates, along with a mechanism for key rotation. This is the SSH model, also known as <a href="https://developer.mozilla.org/en-US/docs/Glossary/TOFU" rel="nofollow">TOFU</a> (Trust On First Use).</p> <p>While it’s possible to add custom repositories, F-Droid builds from source tarballs, hosts and self-signs all but a few packages in their official repo. This has an important downside: you now need to trust them not only on the initial install but on every single update. F-Droid does not build non-free software and has a <a href="https://privsec.dev/posts/android/f-droid-security-issues/" rel="nofollow">host of other issues</a>.</p> <p><a href="https://apt.izzysoft.de/fdroid/" rel="nofollow">IzzyOnDroid</a> is probably the most popular F-Droid alternative repository, focused on providing a curated list of APKs excluded from F-Droid official. The main difference between these repos is that Izzy hosts APKs signed by developers.</p> <p><a href="https://github.com/ImranR98/Obtainium" rel="nofollow">Obtainium</a> is closer to the Izzy approach. It offers no curation but removes one trust layer as packages can be fetched directly from developers’ source repositories. Signature verification <a href="https://github.com/ImranR98/Obtainium/issues/255" rel="nofollow">is not yet implemented</a> so for now you need to fully trust the host (mostly Github run on Microsoft infrastructure). <a href="https://github.com/soupslurpr/AppVerifier" rel="nofollow">AppVerifier</a> is the proposed integration: a step in the good direction but yet another centralized solution relying on certificate hashes rather than developer signatures.</p> <p>It is common, especially among open-source developers, to use PGP to ensure artifact integrity, preventing attacks such as phishing, domain hijacking or malicious repositories.</p> <p>PGP relies on a <a href="https://www.linuxfoundation.org/blog/blog/pgp-web-of-trust-delegated-trust-and-keyservers" rel="nofollow">web of trust</a> to verify the authenticity of signatures. It’s a good idea but far from perfect in practice, as it’s very challenging to determine trust levels transitively. There is no purely technical solution to the problem of trust, but some choices in the design and implementation of PGP make it even harder.</p> <p>I’m a developer and regularly get software in this way. I still find it challenging. Obviously obtaining a hash or fingerprint sitting next to the binary makes no sense, so I usually pull keys from one or two (supposedly) reputable keyservers that match some known developer’s fingerprint. Fingerprints are not the full PGP key. While it’s <em>probably</em> okay, keyservers must be trusted and there have been reports of malicious actors duplicating short key IDs in the wild.</p> <p>The optimization of security at the expense of user experience leads most users to choose insecure tools over secure ones, so PGP unfortunately did not reach any significant level of adoption.</p> <p>Keybase was a <em>very</em> interesting attempt to improve this situation by mapping users’ social identities to PGP encryption keys. Their focus was scattered (messaging, file sharing, etc) and then the team was <a href="https://keybase.io/blog/keybase-joins-zoom" rel="nofollow">aqui-hired by Zoom</a> in 2020. Development seems to have virtually stalled ever since.</p> <p>Could nostr’s web of trust be the missing ingredient in the secure transmission of packages?</p> <p>Nobody uses PGP encrypted email anymore, everybody moved to Signal or SimpleX. And no sane person will undertake the massive effort to build a web of trust from the ground up just to verify a few downloads a year.</p> <p>But if a <em>socially active</em> network of cryptographic keypairs happens to exist, all of a sudden utility massively increases and the effort of building a network of trusted developers goes down. Since trust is a problem of social nature, there is no better way than deriving it from a naturally social context. Keybase got the idea right, but Nostr is uniquely positioned to solve this problem. Even your mom can now  cryptographically verify a downloaded app.</p> <p>Let’s imagine that <a href="https://primal.net/p/npub1hea99yd4xt5tjx8jmjvpfz2g5v7nurdqw7ydwst0ww6vw520prnq6fg9v2" rel="nofollow">Craig Raw</a>’s nsec was compromised. Once aware, he could use <a href="https://thebitcoinmanual.com/articles/what-is-nostr-key-migration/" rel="nofollow">NIP-41</a> to perform a key rotation and make the fact public to his nostr social graph. This action would occur relatively fast, circumventing the need for updating key servers and waiting for global synchronization (<a href="https://superuser.com/questions/227991/where-to-upload-pgp-public-key-are-keyservers-still-surviving/228033#228033" rel="nofollow">which might never happen</a>). In PGP, a single breach can affect entire branches of the web of trust tree, potentially causing widespread damage with very delayed  detection.</p> <p>Indexing packages for discoverability vastly improves UX and can be performed by any network participant since these are merely suggestions and packages are always signed and verified.</p> <h3 id="application-security">Application security</h3> <p>Both the Apple App Store and Google Play Store have their own procedures for reviewing apps before they become available to users. They involve human and automated processes and aim to ensure app quality, security, and compliance with their policies.</p> <p>This approach is not foolproof though, some malicious apps can still slip  through the cracks and when it does, it’s pretty bad.</p> <p><img src="/blog/can-nostr-fix-app-distribution/fakesparrow.png"/></p> <p><img src="/blog/can-nostr-fix-app-distribution/fakeelectrum.png"/></p> <p>Worse yet, they give the illusion of security.</p> <p>These Big Tech-backed proprietary walled gardens pose additional security risks due to their opaque nature. Corporations are the low-hanging regulatory targets in a world of <a href="https://www.theguardian.com/world/interactive/2013/nov/01/snowden-nsa-files-surveillance-revelations-decoded" rel="nofollow">ever-increasing</a> <a href="https://www.newyorker.com/magazine/2022/04/25/how-democracies-spy-on-their-citizens" rel="nofollow">state surveillance</a>. Never forget, <a href="https://nakamotoinstitute.org/trusted-third-parties/" rel="nofollow">trusted third parties are security holes</a>.</p> <p>Open stores appear to be more transparent but still require users to place significant trust in them. F-Droid official repo builds from source tarballs so you need to trust the developer, F-Droid and the transmission of data between them.</p> <p>Something similar happens with Flathub, which in addition hosts binaries packaged by third parties, yet another layer of trust, as these <a href="https://reddit.com/r/Fedora/comments/qq5l24/silverblue_without_flathub_flatpaks/" rel="nofollow">community-run projects lack resources</a>. (Guess what fixes this?)</p> <p>And just like with direct downloads, you also need to trust binaries like an APK to correspond to the source files, unless they use <a href="https://reproducible-builds.org/" rel="nofollow">reproducible builds</a> <a href="https://github.com/signalapp/Signal-Android/tree/main/reproducible-builds" rel="nofollow">like Signal does</a>.</p> <p>In terms of malware and privacy protection, Android’s <a href="https://developers.google.com/android/play-protect/" rel="nofollow">PlayProtect</a> checks APKs when installed from non-Google Play sources. Open stores provide scanning via tools like <a href="https://www.virustotal.com/" rel="nofollow">VirusTotal</a>, <a href="https://exodus-privacy.eu.org/" rel="nofollow">Exodus Privacy</a> and <a href="https://themarkup.org/blacklight" rel="nofollow">Blacklight</a> but the user can’t really pick and choose.</p> <p>On Nostr, a market of DVMs specialized in app security auditing could arise, as a reputation mechanism for developers, as tools for end users, or both.</p> <p>Once apps are installed, privacy and security become an operating system level concern. <a href="https://grapheneos.org/features#improved-sandboxing" rel="nofollow">Sandboxed execution</a> and varying degrees of permission controls to filesystem, peripherals, network, and so on are used to mitigate further security issues. An app that does not use the Internet should not be granted access to it.</p> <p><img src="/blog/can-nostr-fix-app-distribution/flatseal.png"/></p> <p>Firewalls like <a href="https://www.obdev.at/products/littlesnitch/index.html" rel="nofollow">Little Snitch</a> or <a href="https://github.com/evilsocket/opensnitch" rel="nofollow">OpenSnitch</a> for Linux are examples of third-party software that is crucial for maintaining security and privacy.</p> <p>Craig Raw is a developer that I trust, but after configuring Sparrow to work completely offline (node in my LAN, disabled mempool fee estimation, etc) I was surprised to find an HTTP request to <code>sparrowwallet.com</code> with OpenSnitch - which I immediately denied. Is Craig rugging my hot wallet? I went straight to the source code. Turns out it was a simple version upgrade check. So yes, these tools aid us immensely in our strive to verify not trust.</p> <h3 id="privacy">Privacy</h3> <p>All app stores know the exact set of programs you use. Apple and Google in particular have a double incentive to harvest this data: on the one hand to produce accurate recommendations, and on the other to sell it to data brokers.</p> <p>Privacy would be significantly improved by making direct downloads easier to verify by anyone, incentivizing the use of privacy-respecting FOSS and switching to trusted DVMs for recommendations and security audits.</p> <h2 id="reputation">Reputation</h2> <p>Even if an app is perfectly safe, is it worth your time or money?</p> <p>App stores allow users to review the apps they use. This has its limitations as ratings/reviews can be easily gamed in these centralized systems.</p> <p>Having a decentralized review system can actually… make it worse. Spam and Sybil attacks are relatively cheap, unless the view of the network can be trusted. And that is exactly where nostr comes in.</p> <p><a href="https://nips.be/32" rel="nofollow">NIP-32</a> reviews constrained to a pubkey’s web of trust would be the perfect fit.</p> <p>This type of information is not only useful for other users, it also serves as a feedback mechanism for developers. Many of them derive value exclusively from reputation.</p> <p>But there is <a href="https://dergigi.com/value/" rel="nofollow">a better way</a>.</p> <h2 id="monetization">Monetization</h2> <p>Options for charging money are available on the main stores, but the bullies want their cut. Apple and Google take hefty <a href="https://www.statista.com/statistics/975776/revenue-split-leading-digital-content-store-worldwide/" rel="nofollow">15 to 30% commissions</a> on sales and charge developers additional fixed fees.</p> <p>Virtually all users and developers need to be KYC’d as they are only allowed to pay by digital fiat means and are forced to use archaic SMS verification. Apart from the privacy concerns, this excludes billions of unbanked users from buying paid apps and unbanked developers from even publishing them in these stores.</p> <p>Interestingly, it also marginalizes autonomous AI systems that were tasked to publish an app.</p> <p>A vast majority of the applications published on big stores are free (as in free beer) with a huge percentage of them relying on advertising, <a href="https://dergigi.com/2022/12/18/a-vision-for-a-value-enabled-web/" rel="nofollow">exacerbating the attention problem</a>.</p> <p>Open stores offer no monetization options, other than a <a href="https://f-droid.org/en/packages/org.fossify.gallery/" rel="nofollow">donate button</a> at best. FOSS developers usually resort to <a href="https://www.patreon.com/" rel="nofollow">frictional</a> <a href="https://github.com/sponsors" rel="nofollow">and</a> <a href="https://opencollective.com/opensource/updates/closing-our-virtual-card-program" rel="nofollow">unreliable</a> donation solutions.</p> <p>A lot has been written about the <a href="https://trstringer.com/oss-compensation-broken/" rel="nofollow">issues with</a> <a href="https://stackoverflow.blog/2021/01/07/open-source-has-a-funding-problem/" rel="nofollow">open source funding</a>. I can’t reach other conclusion than: Bitcoin and Nostr fix this.</p> <p>Removing the middleman and letting users pay developers directly via zaps, <a href="https://nwc.getalby.com/" rel="nofollow">Nostr Wallet Connect</a> or other similar primitives will fundamentally change the way apps are funded and distributed.</p> <p><img src="/blog/can-nostr-fix-app-distribution/will.png"/></p> <p>It doesn’t have to be like this.</p> <h2 id="support">Support</h2> <p>This is an innovative feature given no app store has introduced post-sales support, likely due to misaligned incentives. It’s the real, genuine KYC!</p> <p>Embracing the removal of middlemen between users and developers can open up new possibilities like paid support, bounties, feature request prioritization, and even new business opportunities.</p> <h2 id="moving-forward">Moving forward</h2> <p>In the longer term, AI could drive a cambrian explosion of software creation.</p> <p>Massive improvements to efficiency tend to also cause qualitative changes. The dynamics of app distribution might look totally different than today, we might be <a href="https://primal.net/e/note1j9skfcgxgnpk5ekzmxpvwv84x7hzflwgc57v28lwf6k0sd7kpg5qn405ld" rel="nofollow">remixing our own apps</a> like we do with music on <a href="https://stemstr.io" rel="nofollow">stemstr</a>, and sending back value to <a href="https://pkgzap.albylabs.com/" rel="nofollow">all contributors</a>.</p> <p>App discovery mechanisms will require more fine tuning, and review systems to be more trustworthy than they are today.</p> <p>Scams and malware will multiply, dangerous software will slip through the cracks of centralized stores due to the sheer volume of submissions and the complexity of detecting all potential threats.</p> <p>Finally, with so much supply and demand from so many different parts of the globe, an open, borderless, neutral medium of exchange is the logical answer to monetization.</p> <p>Apps are fundamental tools in our quest for self-sovereignity. Draconian regulations and privacy invasive practices will accelerate. Properly establishing trust, sourcing and verifying apps will become more important than ever.</p> <p>Most nostr usage at the moment is for social commenting (certainly not as network of package maintainers) but there will be an increasing overlap between the two.</p> <p>Can trust scores emerge from webs of trust and other primitives?</p> <p>Can <a href="https://nips.be/94" rel="nofollow">NIP-94</a> replace <a href="https://wikiless.org/wiki/Manifest_file?lang=en" rel="nofollow">manifest files</a>?</p> <p>How do we minimize trust while maximizing UX?</p> <p>What else would be necessary to disrupt the ~95% big tech market share?</p> <p>As an app developer myself, I had only superficially been exposed to these issues. App distribution is a fascinating rabbit hole I recently fell into and I started prototyping the solution I want to see in the world.</p> <p>A lot of questions remain. I don’t have all the answers, or even the right questions, but I feel there are enough gaps and shortcomings in the current way things are. And significant room for improvement.</p>',1);function c(e){var t=d();p(174),l(e,t)}const T=Object.freeze(Object.defineProperty({__proto__:null,default:c,metadata:i},Symbol.toStringTag,{value:"Module"}));function I(e,t={}){const o=u(e);if(!o)return"";const r=(t.month==="long"?"long":"short")==="long"?g[o.getMonth()]:m[o.getMonth()],a=o.getDate(),s=o.getFullYear(),n=t.includeOrdinal!==!1?`${a}${f(a)}`:String(a);return`${r} ${n}, ${s}`}function u(e){if(e instanceof Date)return isNaN(e.getTime())?null:e;if(typeof e=="number"){const t=e<1e12?e*1e3:e,o=new Date(t);return isNaN(o.getTime())?null:o}if(typeof e=="string"){const t=new Date(e);return isNaN(t.getTime())?null:t}return null}function f(e){const t=e%100;if(t>=11&&t<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["January","February","March","April","May","June","July","August","September","October","November","December"];export{T as _,I as f};
