import"./DsnmJJEf.js";import"./DiPfm8AY.js";import{o as xe}from"./D3QfO92x.js";import{p as ke,i as t,ad as l,af as h,h as e,ae as ye,c as n,r as c,t as P,a as f,b as be,a2 as o,e as V,s as W,f as p,ag as te}from"./BjvSjcul.js";import{e as j,s as q}from"./Bq_urSBn.js";import{i as N}from"./BzP6EuCB.js";import{a as ee,b as Me,s as A}from"./CW0Rmjp7.js";import{i as ze}from"./DdQPfq-y.js";import{p as x}from"./jvGfUjpY.js";import{g as Pe,r as we,h as Se,s as Le,e as ae}from"./CFWGTvxy.js";var Ze=p('<span class="initial svelte-17ykvvx"> </span>'),Ue=te('<svg class="user-icon-colored svelte-17ykvvx" viewBox="0 0 16 20" fill="currentColor"><path d="M16 16.2353C16 18.3145 12.4183 20 8 20C3.58172 20 0 18.3145 0 16.2353C0 14.1561 3.58172 12.4706 8 12.4706C12.4183 12.4706 16 14.1561 16 16.2353Z"></path><path d="M12.8 4.70588C12.8 7.30487 10.651 9.41177 8 9.41177C5.34903 9.41177 3.2 7.30487 3.2 4.70588C3.2 2.1069 5.34903 0 8 0C10.651 0 12.8 2.1069 12.8 4.70588Z"></path></svg>'),Ee=p('<div class="skeleton-container svelte-17ykvvx"><!></div> <div class="loading-initial-container svelte-17ykvvx"><!></div>',1),Ie=p('<!> <img loading="lazy"/>',1),Te=p('<span class="initial svelte-17ykvvx"> </span>'),Be=te('<svg class="user-icon-colored svelte-17ykvvx" viewBox="0 0 16 20" fill="currentColor"><path d="M16 16.2353C16 18.3145 12.4183 20 8 20C3.58172 20 0 18.3145 0 16.2353C0 14.1561 3.58172 12.4706 8 12.4706C12.4183 12.4706 16 14.1561 16 16.2353Z"></path><path d="M12.8 4.70588C12.8 7.30487 10.651 9.41177 8 9.41177C5.34903 9.41177 3.2 7.30487 3.2 4.70588C3.2 2.1069 5.34903 0 8 0C10.651 0 12.8 2.1069 12.8 4.70588Z"></path></svg>'),Ne=p('<div class="skeleton-container svelte-17ykvvx"><!></div> <div class="loading-initial-container svelte-17ykvvx"><!></div>',1),De=p('<div class="fallback-container svelte-17ykvvx"><span class="initial svelte-17ykvvx"> </span></div>'),He=p('<div class="fallback-container svelte-17ykvvx"><svg class="user-icon-colored svelte-17ykvvx" viewBox="0 0 16 20" fill="currentColor"><path d="M16 16.2353C16 18.3145 12.4183 20 8 20C3.58172 20 0 18.3145 0 16.2353C0 14.1561 3.58172 12.4706 8 12.4706C12.4183 12.4706 16 14.1561 16 16.2353Z"></path><path d="M12.8 4.70588C12.8 7.30487 10.651 9.41177 8 9.41177C5.34903 9.41177 3.2 7.30487 3.2 4.70588C3.2 2.1069 5.34903 0 8 0C10.651 0 12.8 2.1069 12.8 4.70588Z"></path></svg></div>'),Qe=p('<button type="button"><div class="profile-pic-inner svelte-17ykvvx"><!></div></button>');function Oe(re,d){ke(d,!1);const g=o(),w=o(),F=o(),D=o(),G=o(),u=o(),H=o(),Q=o(),k=o(),S=o(),J=o(),R=o(),K=o();let L=x(d,"pictureUrl",8,null),s=x(d,"name",8,null),O=x(d,"pubkey",8,null),X=x(d,"size",8,"md"),se=x(d,"onClick",8,()=>{}),oe=x(d,"className",8,""),le=x(d,"loading",8,!1),Z=o(!0);xe(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)");t(Z,a.matches);const r=i=>t(Z,i.matches);return a.addEventListener("change",r),()=>a.removeEventListener("change",r)});const Y={xs:20,sm:28,bubble:32,smMd:35,md:38,lg:48,xl:64,"2xl":96,"3xl":128,"4xl":200},ie=.56;let U=o(!1),E=o(!1);function ve(a,r){return a&&a.trim()?Se(a):r&&r.trim()?Le(r):{r:128,g:128,b:128}}function ne(){t(U,!0)}function ce(){t(E,!0)}l(()=>h(L()),()=>{t(g,typeof L()=="string"?L().trim():L()??null)}),l(()=>h(X()),()=>{t(w,Y[X()]||Y.md)}),l(()=>e(w),()=>{t(F,Math.round(e(w)*ie))}),l(()=>e(g),()=>{t(D,e(g)&&e(g).trim().length>0)}),l(()=>e(g),()=>{e(g)&&(t(U,!1),t(E,!1))}),l(()=>(e(D),e(E)),()=>{t(G,e(D)&&!e(E))}),l(()=>(h(O()),h(s())),()=>{t(u,ve(O(),s()))}),l(()=>h(s()),()=>{t(H,s()&&s().trim().toLowerCase().startsWith("npub"))}),l(()=>h(s()),()=>{t(Q,s()&&typeof s()=="string"&&/^[a-f0-9]{64}$/i.test(s().trim()))}),l(()=>(h(s()),e(H),e(Q)),()=>{t(k,s()&&s().trim()&&!e(H)&&!e(Q)?s().trim()[0]?.toUpperCase()??"":"")}),l(()=>e(k),()=>{t(S,e(k).length>0)}),l(()=>e(u),()=>{t(J,`rgba(${e(u).r}, ${e(u).g}, ${e(u).b}, 0.24)`)}),l(()=>(e(u),e(Z)),()=>{t(R,Pe(e(u),e(Z)))}),l(()=>e(R),()=>{t(K,we(e(R)))}),ye(),ze();var _=Qe(),$=n(_),fe=n($);{var de=a=>{var r=Ie(),i=V(r);{var b=M=>{var T=Ee(),v=V(T),C=n(v);ae(C,{}),c(v);var B=W(v,2),ue=n(B);{var _e=y=>{var z=Ze(),he=n(z,!0);c(z),P(()=>q(he,e(k))),f(y,z)},Ce=y=>{var z=Ue();f(y,z)};N(ue,y=>{e(S)?y(_e):y(Ce,!1)})}c(B),f(M,T)};N(i,M=>{e(U)||M(b)})}var m=W(i,2);let I;P(()=>{A(m,"src",e(g)),A(m,"alt",s()?`${s()}'s avatar`:"Profile avatar"),I=ee(m,1,"profile-image svelte-17ykvvx",null,I,{loaded:e(U)})}),j("load",m,ne),j("error",m,ce),f(a,r)},me=a=>{var r=Ne(),i=V(r),b=n(i);ae(b,{}),c(i);var m=W(i,2),I=n(m);{var M=v=>{var C=Te(),B=n(C,!0);c(C),P(()=>q(B,e(k))),f(v,C)},T=v=>{var C=Be();f(v,C)};N(I,v=>{e(S)?v(M):v(T,!1)})}c(m),f(a,r)},pe=a=>{var r=De(),i=n(r),b=n(i,!0);c(i),c(r),P(()=>q(b,e(k))),f(a,r)},ge=a=>{var r=He();f(a,r)};N(fe,a=>{e(G)?a(de):le()?a(me,1):e(S)?a(pe,2):a(ge,!1)})}c($),c(_),P(()=>{ee(_,1,`profile-pic ${oe()??""}`,"svelte-17ykvvx"),Me(_,`--size: ${e(w)??""}px; --font-size: ${e(F)??""}px; --bg-color: ${e(J)??""}; --text-color: ${e(K)??""};`),A(_,"aria-label",s()?`${s()}'s profile picture`:"Profile picture")}),j("click",_,function(...a){se()?.apply(this,a)}),f(re,_),be()}export{Oe as P};
